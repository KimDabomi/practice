{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cdabo\\\\react\\\\13-redux\\\\src\\\\pages\\\\ImageSearch.js\",\n  _s = $RefreshSig$();\nimport React, { memo, useEffect } from 'react';\nimport { useQueryString } from '../hooks/useQueryString';\nimport Spinner from '../components/Spinner';\nimport ErrorView from '../components/ErrorView';\nimport SearchForm from '../components/SearchForm';\nimport ImageList from '../components/ImageList';\nimport ImageView from '../components/ImageView';\n\n// 상태값을 로드하기 위한 hook과 action 함수를 dispatch할 hook 참조\nimport { useSelector, useDispatch } from 'react-redux';\n// 에러정보를 표시하기 위한 컴포넌트\nimport { getKakaoSearch } from '../slices/ImageSearchSlice';\nimport dayjs from 'dayjs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ImageSearch = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(() => {\n  _s();\n  // QueryString에서 query라는 이름의 값을 추출\n  const {\n    query\n  } = useQueryString();\n\n  // hook을 통해 slice가 관리하는 상태값 가져오기\n  const {\n    data,\n    loading,\n    error\n  } = useSelector(state => state.DepartmentSlice);\n\n  // dispatch 함수 생성\n  const dispatch = useDispatch();\n\n  // 컴포넌트가 마운트되면 데이터 조회를 위한 액션 함수를 디스패치함\n  useEffect(() => {\n    dispatch(getKakaoSearch(query));\n  }, [dispatch, query]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Spinner, {\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SearchForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), error ? /*#__PURE__*/_jsxDEV(ErrorView, {\n      error: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }, this) : query && data && /*#__PURE__*/_jsxDEV(ImageList, {\n      children: data.documents.map((_ref, i) => {\n        let {\n          doc_url,\n          image_url,\n          thumbnail_url,\n          display_sitename,\n          collection,\n          width,\n          height,\n          datetime\n        } = _ref;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-item\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"list-item-link\",\n            href: doc_url,\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"thumbnail\",\n              children: /*#__PURE__*/_jsxDEV(ImageView, {\n                src: thumbnail_url,\n                alt: display_sitename\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: display_sitename\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: collection\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 49,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\uC774\\uBBF8\\uC9C0 \\uD06C\\uAE30: \", width, \"x\", height]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: dayjs(datetime).format('YYYY-MM-DD hh:mm')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 37\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 33\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n}, \"m1X96mChGL3+6Aw6yt6waDM6eys=\", false, function () {\n  return [useQueryString, useSelector, useDispatch];\n})), \"m1X96mChGL3+6Aw6yt6waDM6eys=\", false, function () {\n  return [useQueryString, useSelector, useDispatch];\n});\n_c2 = ImageSearch;\nexport default ImageSearch;\nvar _c, _c2;\n$RefreshReg$(_c, \"ImageSearch$memo\");\n$RefreshReg$(_c2, \"ImageSearch\");","map":{"version":3,"names":["React","memo","useEffect","useQueryString","Spinner","ErrorView","SearchForm","ImageList","ImageView","useSelector","useDispatch","getKakaoSearch","dayjs","ImageSearch","query","data","loading","error","state","DepartmentSlice","dispatch","documents","map","i","doc_url","image_url","thumbnail_url","display_sitename","collection","width","height","datetime","format"],"sources":["C:/Users/cdabo/react/13-redux/src/pages/ImageSearch.js"],"sourcesContent":["import React,{memo,useEffect} from 'react';\r\nimport {useQueryString} from '../hooks/useQueryString';\r\nimport Spinner from '../components/Spinner';\r\nimport ErrorView from '../components/ErrorView';\r\nimport SearchForm from '../components/SearchForm';\r\nimport ImageList from '../components/ImageList';\r\nimport ImageView from '../components/ImageView';\r\n\r\n// 상태값을 로드하기 위한 hook과 action 함수를 dispatch할 hook 참조\r\nimport { useSelector,useDispatch } from 'react-redux';\r\n// 에러정보를 표시하기 위한 컴포넌트\r\nimport {getKakaoSearch} from '../slices/ImageSearchSlice';\r\nimport dayjs from 'dayjs';\r\n\r\nconst ImageSearch = memo(() => {\r\n    // QueryString에서 query라는 이름의 값을 추출\r\n    const {query} = useQueryString();\r\n\r\n    // hook을 통해 slice가 관리하는 상태값 가져오기\r\n    const {data,loading,error} = useSelector((state) => state.DepartmentSlice);\r\n\r\n    // dispatch 함수 생성\r\n    const dispatch = useDispatch();\r\n\r\n    // 컴포넌트가 마운트되면 데이터 조회를 위한 액션 함수를 디스패치함\r\n    useEffect(() => {\r\n        dispatch(getKakaoSearch(query));\r\n    },[dispatch,query]);\r\n    \r\n    return (\r\n        <div>\r\n            <Spinner loading={loading} />\r\n            <SearchForm />\r\n            {error ? (\r\n                <ErrorView error={error} />\r\n            ) : (\r\n                (query && data) && (\r\n                    <ImageList>\r\n                        {data.documents.map(({doc_url,image_url,thumbnail_url,display_sitename,collection,width,height,datetime},i) => {\r\n                            return (\r\n                                <li className='list-item' key={i}>\r\n                                    <a className='list-item-link' href={doc_url} target='_blank' rel='noreferrer'>\r\n                                        <div className='thumbnail'>\r\n                                            <ImageView src={thumbnail_url} alt={display_sitename} />\r\n                                        </div>\r\n                                        <div className='content'>\r\n                                            <h3>{display_sitename}</h3>\r\n                                            <ul>\r\n                                                <li>{collection}</li>\r\n                                                <li>이미지 크기: {width}x{height}</li>\r\n                                                <li>{dayjs(datetime).format('YYYY-MM-DD hh:mm')}</li>\r\n                                            </ul>\r\n                                        </div>\r\n                                    </a>\r\n                                </li>\r\n                            )\r\n                        })}\r\n                </ImageList>\r\n            ))}\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default ImageSearch;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}