{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cdabo\\\\react\\\\14-redux-crud\\\\src\\\\pages\\\\DepartmentList.js\",\n  _s = $RefreshSig$();\nimport React, { memo, useCallback } from 'react';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport Spinner from '../components/Spinner';\nimport ErrorView from '../components/ErrorView';\nimport Table from '../components/Table';\nimport { useDispatch, useSelector, usrDispatch } from 'react-redux';\nimport { getList } from '../slices/DepartmentSlice';\nimport styled from 'styled-components';\nimport { useQueryString } from '../hooks/useQueryString';\n\n// 입력 컨트롤들을 포함하는 박스\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ControlContainer = styled.form`\n  position: sticky;\n  top: 0;\n  background-color: #fff;\n  border-top: 1px solid #eee;\n  border-bottom: 1px solid #eee;\n  padding: 10px 0;\n  \n  .control {\n    margin-right: 5px;\n    display: inline-block;\n    font-size: 16px;\n    padding: 7px 10px 5px 10px;\n    border: 1px solid #ccc;\n  }\n  .clickable {\n    background-color: #fff;\n    color: #000;\n    text-decoration: none;\n    cursor: pointer;\n\n    &:hover {\n      background-color: #06f2;\n    }\n    &:active {\n      transform: scale(.9,.9);\n    }\n  }\n`;\n_c = ControlContainer;\nconst DepartmentList = /*#__PURE__*/_s( /*#__PURE__*/memo(_c2 = _s(() => {\n  _s();\n  // QueryString 변수 받기\n  const {\n    keyword\n  } = useQueryString();\n\n  // 리덕스 관련 초기화\n  const dispatch = useDispatch();\n  const {\n    data,\n    loading,\n    error\n  } = useSelector(state => state.DepartmentSlice);\n\n  // 최초 마운트 시 리덕스를 통해 목록을 조회한다.\n  React.useEffect(() => {\n    dispatch(getList({\n      keyword: keyword\n    }));\n  }, [keyword]);\n\n  // 페이지 강제 이동을 처리하기 위한 navigate함수 생성\n  const navigate = useNavigate();\n\n  // 검색 이벤트\n  const onSearchSubmit = useCallback(e => {\n    e.preventDefault();\n    const current = e.currentTarget;\n    const keyword = current.keyword;\n    let redirectUrl = keyword.value ? `/?keyword=${keyword.value}` : '/';\n    navigate(redirectUrl);\n  }, [navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Spinner, {\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ControlContainer, {\n      onSubmit: onSearchSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"keyword\",\n        className: \"control\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"control clickable\",\n        children: \"\\uAC80\\uC0C9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"department_add\",\n        className: \"control clickable\",\n        children: \"\\uD559\\uACFC\\uC815\\uBCF4 \\uCD94\\uAC00\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), error ? /*#__PURE__*/_jsxDEV(ErrorView, {\n      error: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this) :\n    // ajax 처리 결과가 존재할 경우\n    data && /*#__PURE__*/_jsxDEV(Table, {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\uD559\\uACFC\\uBC88\\uD638\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\uD559\\uACFC\\uBA85\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\uD559\\uACFC\\uC704\\uCE58\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\uC218\\uC815\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children:\n        // 처리결과는 존재하지만 데이터 수가 0건인 경우와 그렇지 않은 경우를 구분\n        data.length > 0 ? data.map((v, i) => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: v.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: v.dname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: v.loc\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                children: \"\\uC218\\uC815\\uD558\\uAE30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                children: \"\\uC0AD\\uC81C\\uD558\\uAE30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 25\n            }, this)]\n          }, v.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 23\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"5\",\n            align: \"center\",\n            children: \"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}, \"NAnb5M7YfHkSxYcm1IXkU6dE29Y=\", false, function () {\n  return [useQueryString, useDispatch, useSelector, useNavigate];\n})), \"NAnb5M7YfHkSxYcm1IXkU6dE29Y=\", false, function () {\n  return [useQueryString, useDispatch, useSelector, useNavigate];\n});\n_c3 = DepartmentList;\nexport default DepartmentList;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ControlContainer\");\n$RefreshReg$(_c2, \"DepartmentList$memo\");\n$RefreshReg$(_c3, \"DepartmentList\");","map":{"version":3,"names":["React","memo","useCallback","NavLink","useNavigate","Spinner","ErrorView","Table","useDispatch","useSelector","usrDispatch","getList","styled","useQueryString","ControlContainer","form","DepartmentList","keyword","dispatch","data","loading","error","state","DepartmentSlice","useEffect","navigate","onSearchSubmit","e","preventDefault","current","currentTarget","redirectUrl","value","length","map","v","i","id","dname","loc"],"sources":["C:/Users/cdabo/react/14-redux-crud/src/pages/DepartmentList.js"],"sourcesContent":["import React,{memo,useCallback} from 'react';\r\nimport { NavLink,useNavigate } from 'react-router-dom';\r\nimport Spinner from '../components/Spinner';\r\nimport ErrorView from '../components/ErrorView';\r\nimport Table from '../components/Table';\r\nimport { useDispatch, useSelector,usrDispatch } from 'react-redux';\r\nimport {getList} from '../slices/DepartmentSlice';\r\nimport styled from 'styled-components';\r\nimport {useQueryString} from '../hooks/useQueryString';\r\n\r\n// 입력 컨트롤들을 포함하는 박스\r\nconst ControlContainer = styled.form`\r\n  position: sticky;\r\n  top: 0;\r\n  background-color: #fff;\r\n  border-top: 1px solid #eee;\r\n  border-bottom: 1px solid #eee;\r\n  padding: 10px 0;\r\n  \r\n  .control {\r\n    margin-right: 5px;\r\n    display: inline-block;\r\n    font-size: 16px;\r\n    padding: 7px 10px 5px 10px;\r\n    border: 1px solid #ccc;\r\n  }\r\n  .clickable {\r\n    background-color: #fff;\r\n    color: #000;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      background-color: #06f2;\r\n    }\r\n    &:active {\r\n      transform: scale(.9,.9);\r\n    }\r\n  }\r\n`;\r\nconst DepartmentList = memo(() => {\r\n  // QueryString 변수 받기\r\n  const {keyword} = useQueryString();\r\n\r\n  // 리덕스 관련 초기화\r\n  const dispatch = useDispatch();\r\n  const {data,loading,error} = useSelector((state) => state.DepartmentSlice);\r\n\r\n  // 최초 마운트 시 리덕스를 통해 목록을 조회한다.\r\n  React.useEffect(() => {\r\n    dispatch(getList({\r\n      keyword: keyword\r\n    }));\r\n  },[keyword]);\r\n\r\n  // 페이지 강제 이동을 처리하기 위한 navigate함수 생성\r\n  const navigate = useNavigate();\r\n\r\n  // 검색 이벤트\r\n  const onSearchSubmit = useCallback(e => {\r\n    e.preventDefault();\r\n\r\n    const current = e.currentTarget;\r\n    const keyword = current.keyword;\r\n    \r\n    let redirectUrl = keyword.value ? `/?keyword=${keyword.value}` : '/';\r\n    navigate(redirectUrl);\r\n  },[navigate]);\r\n\r\n  return (\r\n    <div>\r\n      <Spinner loading={loading} />\r\n\r\n      {/* 검색폼 */}\r\n      <ControlContainer onSubmit={onSearchSubmit}>\r\n        <input type='text' name='keyword' className='control' />\r\n        <button type='submit' className='control clickable'>검색</button>\r\n        <NavLink to='department_add' className='control clickable'>학과정보 추가하기</NavLink>\r\n      </ControlContainer>\r\n\r\n      {/* 조회결과 표시하기 */}\r\n      {error ? (\r\n        <ErrorView error={error} />\r\n      ) : (\r\n        // ajax 처리 결과가 존재할 경우\r\n        data && (\r\n          <Table>\r\n            <thead>\r\n              <tr>\r\n                <th>학과번호</th>\r\n                <th>학과명</th>\r\n                <th>학과위치</th>\r\n                <th>수정</th>\r\n                <th>삭제</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {\r\n                // 처리결과는 존재하지만 데이터 수가 0건인 경우와 그렇지 않은 경우를 구분\r\n                data.length > 0 ? (\r\n                  data.map((v,i) => {\r\n                    return (\r\n                      <tr key={v.id}>\r\n                        <td>{v.id}</td>\r\n                        <td>{v.dname}</td>\r\n                        <td>{v.loc}</td>\r\n                        <td>\r\n                          <button type='button'>수정하기</button>\r\n                        </td>\r\n                        <td>\r\n                          <button type='button'>삭제하기</button>\r\n                        </td>\r\n                      </tr>\r\n                    )\r\n                  })\r\n                ) : (\r\n                  <tr>\r\n                    <td colSpan='5' align='center'>\r\n                      검색 결과가 없습니다.\r\n                    </td>\r\n                  </tr>\r\n                )\r\n              }\r\n            </tbody>\r\n          </Table>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default DepartmentList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}