{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { pending, fulfilled, rejected } from '../helper/ReduxHelper';\n\n/** Ajax처리를 위한 미들웨어 함수 정의 */\n// 다중행 데이터 조회를 위한 비동기 함수\nexport const getList = createAsyncThunk(\"DepartmentSlice/getList\", async (payload, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n  let result = null;\n  const URL = process.env.REACT_APP_API_DEPARTMENT_LIST;\n\n  // './pages/DepartmentList.js'에서 검색어를 {keyword: 검색어값} 형태로 전달하면 payload객체를 통해 넘어온다. -> payload.keyword\n  // 여기서는 그 값을 학과명 검색어로 활용\n  let params;\n  try {\n    const response = await axios.get(URL, {\n      dname: payload.dname,\n      loc: payload.loc\n    });\n    result = response.data;\n  } catch (err) {\n    result = rejectWithValue(err.response);\n  }\n  return result;\n});\n\n// 단일행 데이터 조회를 위한 비동기 함수\nexport const getItem = createAsyncThunk('DepartmentSlice/getItem', async (payload, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n  let result = null;\n\n  // 환경설정 파일에 정의된 URL에서 ':id' 부분을 찾아서 payload를 통해 전달된 일련번호로 치환\n  const URL = process.env.REACT_APP_API_DEPARTMENT_ITEM.replace(':id', payload.id);\n  try {\n    const response = await axios.get(URL, {\n      dname: payload.dname,\n      loc: payload.loc\n    });\n    result = response.data;\n  } catch (err) {\n    result = rejectWithValue(err.response);\n  }\n  return result;\n});\n\n// 데이터 저장을 위한 비동기 함수\nexport const postItem = createAsyncThunk('DepartmentSlice/postItem', async (payload, _ref3) => {\n  let {\n    rejectWithValue\n  } = _ref3;\n  let result = null;\n  const URL = process.env.REACT_APP_API_DEPARTMENT_LIST;\n  try {\n    const response = await axios.post(URL, {\n      dname: payload.dname,\n      loc: payload.loc\n    });\n    result = response.data;\n  } catch (err) {\n    result = rejectWithValue(err.response);\n  }\n  return result;\n});\n\n// 데이터 수정을 위한 비동기 함수\nexport const putItem = createAsyncThunk('DepartmentSlice/putItem', async (payload, _ref4) => {\n  let {\n    rejectWithValue\n  } = _ref4;\n  let result = null;\n  const URL = process.env.REACT_APP_API_DEPARTMENT_ITEM.replace(':id', payload.id);\n  try {\n    const response = await axios.put(URL, {\n      dname: payload.dname,\n      loc: payload.loc\n    });\n    result = response.data;\n  } catch (err) {\n    result = rejectWithValue(err.response);\n  }\n  return result;\n});\n\n// 데이터 삭제를 위한 비동기 함수\nexport const deleteItem = createAsyncThunk('DepartmentSlice/deleteItem', async (payload, _ref5) => {\n  let {\n    rejectWithValue\n  } = _ref5;\n  let result = null;\n  const URL = process.env.REACT_APP_API_DEPARTMENT_ITEM.replace(':id', payload.id);\n  try {\n    const response = await axios.delete(URL, {\n      dname: payload.dname,\n      loc: payload.loc\n    });\n    result = response.data;\n  } catch (err) {\n    result = rejectWithValue(err.response);\n  }\n  return result;\n});\nconst DepartmentSlice = createSlice({\n  name: 'DepartmentSlice',\n  initialState: {\n    data: null,\n    loading: false,\n    error: null\n  },\n  reducers: {},\n  extraReducers: {\n    // 다중행 데이터 조회를 위한 액션 함수\n    [getList.pending]: pending,\n    [getList.fulfilled]: fulfilled,\n    [getList.rejected]: rejected,\n    // 단일행 데이터 조회를 위한 액션 함수\n    [getItem.pending]: pending,\n    [getItem.fulfilled]: fulfilled,\n    [getItem.rejected]: rejected,\n    // 단일행 데이터 조회를 위한 액션 함수\n    [postItem.pending]: pending,\n    [postItem.fulfilled]: fulfilled,\n    [postItem.rejected]: rejected,\n    // 단일행 데이터 조회를 위한 액션 함수\n    [putItem.pending]: pending,\n    [putItem.fulfilled]: fulfilled,\n    [putItem.rejected]: rejected,\n    // 단일행 데이터 조회를 위한 액션 함수\n    [deleteItem.pending]: pending,\n    [deleteItem.fulfilled]: fulfilled,\n    [deleteItem.rejected]: rejected\n  }\n});\nexport default DepartmentSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","pending","fulfilled","rejected","getList","payload","rejectWithValue","result","URL","process","env","REACT_APP_API_DEPARTMENT_LIST","params","response","get","dname","loc","data","err","getItem","REACT_APP_API_DEPARTMENT_ITEM","replace","id","postItem","post","putItem","put","deleteItem","delete","DepartmentSlice","name","initialState","loading","error","reducers","extraReducers","reducer"],"sources":["C:/Users/cdabo/react/14-redux-crud/src/slices/DepartmentSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport {pending,fulfilled,rejected} from '../helper/ReduxHelper';\r\n\r\n\r\n/** Ajax처리를 위한 미들웨어 함수 정의 */\r\n// 다중행 데이터 조회를 위한 비동기 함수\r\nexport const getList = createAsyncThunk(\"DepartmentSlice/getList\", async (payload, {rejectWithValue }) => {\r\n    let result = null;\r\n    const URL = process.env.REACT_APP_API_DEPARTMENT_LIST;\r\n    \r\n    // './pages/DepartmentList.js'에서 검색어를 {keyword: 검색어값} 형태로 전달하면 payload객체를 통해 넘어온다. -> payload.keyword\r\n    // 여기서는 그 값을 학과명 검색어로 활용\r\n    let params\r\n    try {\r\n        const response = await axios.get(URL,{\r\n            dname: payload.dname,\r\n            loc: payload.loc\r\n        });\r\n        result = response.data;\r\n    } catch (err) {\r\n        result = rejectWithValue(err.response);\r\n    }\r\n    return result;\r\n});\r\n\r\n// 단일행 데이터 조회를 위한 비동기 함수\r\nexport const getItem = createAsyncThunk('DepartmentSlice/getItem', async(payload,{rejectWithValue}) => {\r\n    let result = null;\r\n\r\n    // 환경설정 파일에 정의된 URL에서 ':id' 부분을 찾아서 payload를 통해 전달된 일련번호로 치환\r\n    const URL = process.env.REACT_APP_API_DEPARTMENT_ITEM.replace(':id',payload.id);\r\n\r\n    try {\r\n        const response = await axios.get(URL,{\r\n            dname: payload.dname,\r\n            loc: payload.loc\r\n        });\r\n        result = response.data;\r\n    } catch (err) {\r\n        result = rejectWithValue(err.response);\r\n    }\r\n    return result;\r\n});\r\n\r\n// 데이터 저장을 위한 비동기 함수\r\nexport const postItem = createAsyncThunk('DepartmentSlice/postItem', async(payload,{rejectWithValue}) => {\r\n    let result = null;\r\n\r\n    const URL = process.env.REACT_APP_API_DEPARTMENT_LIST;\r\n\r\n    try {\r\n        const response = await axios.post(URL,{\r\n            dname: payload.dname,\r\n            loc: payload.loc\r\n        });\r\n        result = response.data;\r\n    } catch (err) {\r\n        result = rejectWithValue(err.response);\r\n    }\r\n    return result;\r\n});\r\n\r\n// 데이터 수정을 위한 비동기 함수\r\nexport const putItem = createAsyncThunk('DepartmentSlice/putItem', async(payload,{rejectWithValue}) => {\r\n    let result = null;\r\n\r\n    const URL = process.env.REACT_APP_API_DEPARTMENT_ITEM.replace(':id',payload.id);\r\n\r\n    try {\r\n        const response = await axios.put(URL,{\r\n            dname: payload.dname,\r\n            loc: payload.loc\r\n        });\r\n        result = response.data;\r\n    } catch (err) {\r\n        result = rejectWithValue(err.response);\r\n    }\r\n    return result;\r\n});\r\n\r\n// 데이터 삭제를 위한 비동기 함수\r\nexport const deleteItem = createAsyncThunk('DepartmentSlice/deleteItem', async(payload,{rejectWithValue}) => {\r\n    let result = null;\r\n\r\n    const URL = process.env.REACT_APP_API_DEPARTMENT_ITEM.replace(':id',payload.id);\r\n\r\n    try {\r\n        const response = await axios.delete(URL,{\r\n            dname: payload.dname,\r\n            loc: payload.loc\r\n        });\r\n        result = response.data;\r\n    } catch (err) {\r\n        result = rejectWithValue(err.response);\r\n    }\r\n    return result;\r\n});\r\n\r\n\r\nconst DepartmentSlice = createSlice({\r\n    name: 'DepartmentSlice',\r\n    initialState: {\r\n        data: null,\r\n        loading: false,\r\n        error: null\r\n    },\r\n    reducers: {},\r\n    extraReducers: {\r\n        // 다중행 데이터 조회를 위한 액션 함수\r\n        [getList.pending]: pending,\r\n        [getList.fulfilled]: fulfilled,\r\n        [getList.rejected]: rejected,\r\n\r\n        // 단일행 데이터 조회를 위한 액션 함수\r\n        [getItem.pending]: pending,\r\n        [getItem.fulfilled]: fulfilled,\r\n        [getItem.rejected]: rejected,\r\n\r\n        // 단일행 데이터 조회를 위한 액션 함수\r\n        [postItem.pending]: pending,\r\n        [postItem.fulfilled]: fulfilled,\r\n        [postItem.rejected]: rejected,\r\n\r\n        // 단일행 데이터 조회를 위한 액션 함수\r\n        [putItem.pending]: pending,\r\n        [putItem.fulfilled]: fulfilled,\r\n        [putItem.rejected]: rejected,\r\n\r\n        // 단일행 데이터 조회를 위한 액션 함수\r\n        [deleteItem.pending]: pending,\r\n        [deleteItem.fulfilled]: fulfilled,\r\n        [deleteItem.rejected]: rejected\r\n    }\r\n});\r\nexport default DepartmentSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}